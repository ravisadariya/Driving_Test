<!DOCTYPE html>
<html lang="en">

<%- include("layouts/header") %>

    <body>

        <!-- Navbar Start -->
        <%- include("layouts/navbar") %>
            <!-- Navbar End -->
            <main class="container">
                
                
                <% if(user) {%>
                    <section class="mx-sm-5 mb-5 pb-5">
                        <form class="row g-3 mt-3" method="POST" action="">
                            <h1 class="text-left">Personal Information</h1>
                            <div class="col-md-4">
                                <input type="hidden" class="form-control" id="userId" name="userId" name="userId"
                                    value="<%= user._id %>" />
                                <label for="firstName" class="form-label">First Name:</label>
                                <input type="text" class="form-control" id="firstName" name="firstName" name="firstName"
                                    placeholder="Enter First Name" value="<%= user.firstName %>" disabled />
                                <% if(typeof errors=="object" && errors.firstName) {%>
                                    <div class="alert alert-danger mt-1">
                                        <%= errors.firstName %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="col-md-4">
                                <label for="lastName" class="form-label">Last name:</label>
                                <input type="text" class="form-control" id="lastName" value="<%= user.lastName %>"
                                    name="lastName" placeholder="Enter Last Name" disabled />
                                <% if(typeof errors=="object" && errors.lastName) {%>
                                    <div class="alert alert-danger mt-1">
                                        <%= errors.lastName %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="col-md-4">
                                <label for="licenseNumber" class="form-label">License Number:</label>
                                <input placeholder="Enter License Number" type="text" class="form-control"
                                    id="licenseNumber" name="licenseNumber" maxlength="8" disabled
                                    value="<%= user.licenseNumber %>" />
                                <% if(typeof errors=="object" && errors.licenseNumber) {%>
                                    <div class="alert alert-danger mt-1">
                                        <%= errors.licenseNumber %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="col-md-6">
                                <label for="age" class="form-label">Age:</label>
                                <input type="number" class="form-control" id="age" name="age" value="<%= user.age %>"
                                    placeholder="Enter Age" disabled />
                                <% if(typeof errors=="object" && errors.age) {%>
                                    <div class="alert alert-danger mt-1">
                                        <%= errors.age %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="col-md-6">
                                <label for="dob" class="form-label">DOB:</label>
                                <input type="date" class="form-control" id="dob" name="dob" value="<%= user.dob %>"
                                    placeholder="Enter DOB" disabled />
                                <% if(typeof errors=="object" && errors.dob) {%>
                                    <div class="alert alert-danger mt-1">
                                        <%= errors.dob %>
                                    </div>
                                    <% } %>
                            </div>
                            <% if(typeof user.car_details=="object" && user.car_details) {%>
                                <h1 class="text-left">Car Information</h1>
                                <div class="col-md-6">
                                    <label for="make" class="form-label">Make:</label>
                                    <input type="text" class="form-control" id="make" name="make"
                                        value="<%= user.car_details.make %>" placeholder="Enter Build Number"
                                        required />
                                    <% if(typeof errors=="object" && errors.make) {%>
                                        <div class="alert alert-danger mt-1">
                                            <%= errors.make %>
                                        </div>
                                        <% } %>
                                </div>
                                <div class="col-md-6">
                                    <label for="model" class="form-label">Model:</label>
                                    <input type="text" class="form-control" id="model" name="model"
                                        value="<%= user.car_details.model %>" placeholder="Enter Model" required />
                                    <% if(typeof errors=="object" && errors.model) {%>
                                        <div class="alert alert-danger mt-1">
                                            <%= errors.model %>
                                        </div>
                                        <% } %>
                                </div>
                                <div class="col-md-6">
                                    <label for="year" class="form-label">Year:</label>
                                    <input type="number" class="form-control" id="year" name="year"
                                        value="<%= user.car_details.year %>" placeholder="Enter Year" required />
                                    <% if(typeof errors=="object" && errors.year) {%>
                                        <div class="alert alert-danger mt-1">
                                            <%= errors.year %>
                                        </div>
                                        <% } %>
                                </div>
                                <div class="col-md-6">
                                    <label for="plateNo" class="form-label">Plate No:</label>
                                    <input type="text" class="form-control" id="plateNo" name="plateNo"
                                        value="<%= user.car_details.plateNo %>" placeholder="Enter Plate Number"
                                        required />
                                    <% if(typeof errors=="object" && errors.plateNo) {%>
                                        <div class="alert alert-danger mt-1">
                                            <%= errors.plateNo %>
                                        </div>
                                        <% } %>
                                </div>
                                <% } %>
                            <h1 class="text-left">Slots</h1>
                            <div class="col-md-6">
                                <input type="date" class="form-control" id="date" name="date" placeholder="Date"
                                       onchange="loadTimeSlots()">
                            </div>
                            <div class="col-md-6">
                                <select name="time" id="time" class="form-select text-primary"></select>
                            </div>

                                    <div class="col-12">
                                        <button class="btn btn-primary" type="submit">Submit</button>
                                    </div>

                        </form>
                    </section>
                    <% } %>
                   
            </main>
            

            <!-- Footer Start -->
            <%- include("layouts/footer") %>
                <!-- Footer End -->

                <!-- JavaScript Libraries -->
                <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
                <script src="lib/wow/wow.min.js"></script>
                <script src="lib/easing/easing.min.js"></script>
                <script src="lib/waypoints/waypoints.min.js"></script>
                <script src="lib/owlcarousel/owl.carousel.min.js"></script>

                <!-- Template Javascript -->
                <script src="js/main.js"></script>
    </body>

</html>